{% extends 'base.html' %}

{% block title %}ORDER DETAILS{% endblock %}

{% block content %}
<div class="orders-detail">
    <div>
        <h2 class="{{ order.controler_auth }}">{{ order.controler_auth }}</h2>
        <div class="box">
            <table>
                <tbody>
                <tr>
                    <td>Order_id :</td>
                    <td class="value">{{ order.order_id }}</td>
                    <td>Date :</td>
                    <td class="value">{{ order.date }}</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="box">
            <table>
                <tbody>
                <tr>
                    <td>Asker_login :</td>
                    <td class="value">{{ order.asker_login }}</td>
                    <td>Branch :</td>
                    <td class="value">{{ order.branch }}</td>
                </tr>
                <tr>
                    <td>Process :</td>
                    <td class="value">{{ order.process }}</td>
                </tr>
                <tr>
                    <td>Purchase_type :</td>
                    <td class="value">{{ order.purchase_type }}</td>
                </tr>
                <tr>
                    <td>Payment method :</td>
                    <td class="value">{{ order.payment_method }}</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="box">
            <table>
                <tbody>
                <tr>
                    <td>Product :</td>
                    <td class="value">{{ order.product }}</td>
                    <td>Unit price :</td>
                    <td class="value">{{ order.unit_price }}&#x20AC;</td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td>Price :</td>
                    <td class="value">{{ order.price }}&#x20AC;</td>
                </tr>
                <tr>
                    <td>Vendor :</td>
                    <td class="value">{{ order.vendor }}</td>
                </tr>
                <tr>
                    <td>Delivery date :</td>
                    <td class="value">{{ order.delivery_date }}</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="box">
            Asker comment :
            <p class="value">{{ order.asker_comment }}</p>
        </div>
        <div>
            <table>
                <tbody>
                <tr>
                    <td></td>
                    <td>
                        <div class="box">
                        <table>
                            <tbody>
                                <tr>
                                    <td>controler_login :</td>
                                    <td class="value">{{ order.controler_login }}</td>
                                </tr>
                            </tbody>
                        </table>
                        {% if order.controler_auth == "Pending" and controler_order %}
                        <form method="post" action="{% url 'order-pending' id=order.id %}">
                            {% csrf_token %}
                            controler comment :
                            <p>{{ auth.controler_comment }}</p>
                            <table>
                                <tbody>
                                <tr class="input-btn">
                                    <td><input type="submit" class="btn-ko" id="{{ auth.controler_auth.id_for_label }}" name="{{ auth.controler_auth.name }}" value="Refused"></td>
                                    <td><input type="submit" class="btn-ok" id="{{ auth.controler_auth.id_for_label }}" name="{{ auth.controler_auth.name }}" value="Authorized"></td>
                                </tr>
                                </tbody>
                            </table>
                        </form>
                        {% else %}
                            {% if order.controler_comment %}
                            Controler comment :
                            <p>{{ order.controler_comment }}</p>
                            {% endif %}
                            <h2 class="{{ order.controler_auth }}">{{ order.controler_auth }}</h2>
                        {% endif %}
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}